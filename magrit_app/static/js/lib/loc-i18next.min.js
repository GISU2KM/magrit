var locI18next=function(){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var defaults$$1={selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:false,parseDefaultValueFromContent:true};function init(i18next){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options=_extends({},defaults$$1,options);var extendDefault=function extendDefault(o,val){return options.parseDefaultValueFromContent?_extends({},o,{defaultValue:val}):o};function parse(elem,key,opts){var attr="text";if(key.indexOf("[")==0){var parts=key.split("]");key=parts[1];attr=parts[0].substr(1,parts[0].length-1)}key=key.indexOf(";")==key.length-1?key.substr(0,key.length-2):key;if(attr==="html"){elem.innerHTML=i18next.t(key,extendDefault(opts,elem.innerHTML))}else if(attr==="text"){elem.textContent=i18next.t(key,extendDefault(opts,elem.textContent))}else if(attr==="prepend"){elem.innerHTML=[i18next.t(key,extendDefault(opts,elem.innerHTML)),elem.innerHTML].join("")}else if(attr==="append"){elem.innerHTML=[elem.innerHTML,i18next.t(key,extendDefault(opts,elem.innerHTML))].join("")}else if(attr.indexOf("data-")===0){var dataAttr=attr.substr("data-".length);var translated=i18next.t(key,extendDefault(opts,elem.getAttribute(dataAttr)));elem.setAttribute(dataAttr,translated);elem.setAttribute(attr,translated)}else{elem.setAttribute(attr,i18next.t(key,extendDefault(opts,elem.getAttribute(attr))))}}function _loc(elem,opts){var key=elem.getAttribute(options.selectorAttr);if(!key)return;var target=elem,targetSelector=elem.getAttribute(options.targetAttr);if(targetSelector!=null)target=elem.querySelector(targetSelector)||elem;if(!opts&&options.useOptionsAttr===true)opts=elem.getAttribute(options.optionsAttr);opts=opts||{};if(key.indexOf(";")>=0){var keys=key.split(";");for(var ix=0,l_ix=keys.length;ix<l_ix;ix++){if(keys[ix]!="")parse(target,keys[ix],opts)}}else{parse(target,key,opts)}if(options.useOptionsAttr===true){var clone={};clone=_extends({clone:clone},opts);delete clone.lng;elem.setAttribute(options.optionsAttr,clone)}}function handle(selector,opts){var elems=document.querySelectorAll(selector);for(var i=0;i<elems.length;i++){var elem=elems[i];var childs=elem.querySelectorAll("["+options.selectorAttr+"]");for(var j=childs.length-1;j>-1;j--){_loc(childs[j],opts)}_loc(elem,opts)}}return handle}var main={init:init};return main}();
